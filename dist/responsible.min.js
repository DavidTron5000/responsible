/*! responsible.js v1.2.0 | (c) 2015 @davidwells | https://github.com/davidwells/responsible */
!function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t:e.responsible=t()}(this,function(){addListener=function(e,t,n){e&&(e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n)},removeListener=function(e,t,n){e&&(e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=null)},_logStr=function(e){window.console&&window.console.log("Responsible: "+e)},_argsOrDefault=function(e,t){return"undefined"!=typeof e[t]?e[t]:n[t]},mergeOptions=function(e){switch(ops={},typeof e[0]){case"undefined":return n;case"string":return ops.path=e[0],ops.deviceWidth=e[1]||n.deviceWidth,"function"==typeof e[e.length-1]&&(ops.doneFunction=e[e.length-1]||null),ops;case"object":return void 0===e[0].path?(_logStr('Missing "path" argument!'),!1):(ops.path=_argsOrDefault(e[0],"path"),ops.targetWidth=_argsOrDefault(e[0],"targetWidth"),ops.doneFunction=e[1]||null,ops);default:return _logStr('Unexpected type of arg! Expected "string" or "object", got '+typeof e[0]),ops}},extend=function(e,t){console.log("Extend");for(var n in t)console.log(n),t.hasOwnProperty(n)&&(e[n]=t[n]);return e},_createCookie=function(e,t,n,o){var i="";if(n){var r=new Date;r.setTime(r.getTime()+24*n*60*60*1e3),i="; expires="+r.toGMTString()}o&&(i="; expires="+n.toGMTString()),document.cookie=e+"="+t+i+"; path=/"},_readCookie=function(e){for(var t=e+"=",n=document.cookie.split(";"),o=0;o<n.length;o++){for(var i=n[o];" "===i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(t))return i.substring(t.length,i.length)}return null},_getViewPort=function(){var e=document.querySelector("meta[name=viewport]");return e?e:(e=document.createElement("meta"),e.name="viewport",e.content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0",document.getElementsByTagName("head")[0].appendChild(e),e)},_loadCSS=function(e){var t=document.getElementById("responsible-css");if(t)return!1;var n=document.createElement("link");n.id="responsible-css",n.setAttribute("rel","stylesheet"),n.setAttribute("type","text/css"),n.setAttribute("href",e),document.getElementsByTagName("head")[0].appendChild(n)},_removeCSS=function(t){t=t||n.path;for(var o=document.getElementsByTagName("link"),i=o.length;i>=0;i--)console.log(o[i]),o[i]&&null!==o[i].getAttribute("href")&&-1!==o[i].getAttribute("href").indexOf(t)&&(e=o[i].getAttribute("href"),o[i].parentNode.removeChild(o[i]))};var e,t={},n={targetWidth:1280,deviceWidth:"device-width",path:"responsive.css"},o=_getViewPort();return _desktopAddToggle=function(){var e=document.getElementById("responsible-toggle");if(e)return!1;var n=document.body.children[0],o=document.createElement("div");o.id="responsible-toggle",o.style.padding="30px 0 45px",o.style.width="100%",o.style.color="#eaeaea",o.style.fontSize="60px",o.style.fontWeight="bold",o.style.backgroundColor="#444",o.style.textAlign="center",o.style.cursor="pointer",o.innerText="Toggle Mobile Site",document.body.insertBefore(o,n),addListener(o,"click",t.mobile)},_desktopRemoveToggle=function(){var e=document.getElementById("responsible-toggle");e&&(console.log("Destroy toggle"),removeListener(e,"click",t.mobile),document.body.removeChild(e))},t.desktop=function(){var e=mergeOptions(arguments);console.log("SEttings",e);var t=e?extend(n,e):n;_removeCSS(t.path),o.setAttribute("content","width="+t.targetWidth+", user-scalable=yes, initial-scale=.25, maximum-scale=.35"),_desktopAddToggle(),setTimeout(function(){o.setAttribute("content","width="+t.targetWidth+", user-scalable=yes, initial-scale=.25, maximum-scale=1")},300)},t.mobile=function(){var t=mergeOptions(arguments);console.log("SEttings",t);var i=t?extend(n,t):n;console.log("cached pathhere ",e),console.log("customizations",i),console.log("add responsive CSS",i.path);var r=e?e:i.path;_loadCSS(r),o.setAttribute("content","width=device-width, user-scalable=yes, initial-scale=1"),document.body.style.width="100%",i.doneFunction&&(console.log("has done"),i.doneFunction())},t});